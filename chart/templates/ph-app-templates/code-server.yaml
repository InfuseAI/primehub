apiVersion: primehub.io/v1alpha1
kind: PhAppTemplate
metadata:
  name: code-server
  annotations:
    helm.sh/hook: post-install, post-upgrade
spec:
  # defaultEnvs:
  # - defaultValue: sqlite:///$(PRIMEHUB_APP_ROOT)/mlflow.db
  #   description: URI to which to persist experiment and run data. Acceptable URIs
  #     are SQLAlchemy-compatible database connection strings (e.g. ‘sqlite:///path/to/file.db’)
  #     or local filesystem URIs.
  #   name: BACKEND_STORE_URI
  #   optional: false
  # - defaultValue: $(PRIMEHUB_APP_ROOT)/mlruns
  #   description: Local or S3 URI to store artifacts, for new experiments.
  #   name: DEFAULT_ARTIFACT_ROOT
  #   optional: false
  description: Run VS Code on any machine anywhere and access it in the browser.
  docLink: https://github.com/cdr/code-server
  icon: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAeGVYSWZNTQAqAAAACAAFARIAAwAAAAEAAQAAARoABQAAAAEAAABKARsABQAAAAEAAABSASgAAwAAAAEAAgAAh2kABAAAAAEAAABaAAAAAAAAAEgAAAABAAAASAAAAAEAAqACAAQAAAABAAAAUKADAAQAAAABAAAAUAAAAACNEqn+AAAACXBIWXMAAAsTAAALEwEAmpwYAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAAZrklEQVR4Ad1dCZRdRZmuust7r99Lb1nIgmbgCAGSdLZGZTvQOM4oMKhBkoNHHWEUIo5yImRGAQ0vEBIGJGHJHAjgAZUZ5xBFSBBFljSLOyEhELKw6kASQpZeXvfb7jLfV/fW69fdrztv6fEkqc59VffeurV89f9V/1L3RoojMMx76CFzzfz5Lrt23v3bL4okEvPsePNEKeUez3Ue+eClDQ+2J892eP+y1b59z2XCEVL6PK80yEofONTztyXXWwSHsUh4a+1E4zl+PiPsulGi6dgWYUYMke3sfscX/or3Ml33/X7+h9PskwJy1xJXJJNeJX08ogBsXf2ivWHByflz7ni8oScbbbejidm5VEdOCt9w090yPu5DfvPxs31pWLYVs0Suq2cnyPT2dGf27l99aUyXBnLSLuEmk7IsII8YAKclH4psSc7PfWLF00c7jnzBjMaPcdJdOSH8iPAAEw7DMMW46acjtjxQoGtYEduqs0W2K7UP4K3KCn/VuvMb9lYC5BEBoAbv9JuemSYN/znTrhvt5npzwgd4vickwPM9RximJcZNPU2AAHHLF+g8bgpXmpZtx6MAsqfL97zV2Wzu9sfmj32PQLat9622NuElZWmKPOwB1Gx7xk3rz/Cl+7RhRSOek8ujY7aiPABIEH2XAIICp4ECLUsDCIgUBGRXVxqmbSdiItudymBFuS/vuyvWfabpbQ3kuA+Ev2a+VIsTrzEc1gC2rl6NOW9B/rRbnvmsIYxH2CEfyywiCynQFw4FICjQyQsTFDh2ekCB6vqA7jM3AHGkNGx7VJys7YJSf+QY4haw9jaW37Z+vTXug7YCkIcpgL5sS7abXG1P/4/1XzXsyH1uPovu+6QOkx0NACRhEUgA6BLAYA6UYGHkVbmG+CF/YyCkDRFI5FI9pNif+q68+ZG5ozbxGbJ2+9nSOfwATCYN1WmIG6fe9PR3rVhiuZPpwZpAcpPBPY1KyL6K2kCBioWxiJQBYFAClm8ppAPw7MioUSKfzgjXya/1825y7YXNGylvHlYAzpsHAXlNICCfctNTt9p1DVdipQWbKV7sDx4hIIAe1gk1B+ZCAM8oLCIa54PGABJ/irrtxCjpOa7I9qQuf+yCprsPGwCLtYuPL3vyx3ai6ctOT6cDEiEVlO4HwFMggrPJwkqMaQGAZmEVDrDj05qjB5bE6+E1cj2SeWgttlmXEJmO7jMx2R76gVrFmvmB6vXxZU//0orXn5vv6cyj10CC5FEq8Gp4INJTHmNeZdBxX6L4osoS/BQyqmewuvtqlTcscfUhDyDFlHZoF6eu+F2dm+lZj5H/eL63EwKyiAzqXVGfVZIdDzuvkkXpgVkrOpfCcrIZFv2xQxpALeOdlnziqHy653kzlpiS76V2IUPwyux2iB4nshEKknIlpt4xhyyA1C6g1+ZOXb7+uLzrvGBE6sY76Z4c5h9oF2XCoIDjvAXokNYH7S6apcssaXA2TIbUZgavXIOz/s2vaNXso8uf+mjezb8s7eh4N5vGnAe2LbvnIXrIz0c09YVXyx6DUp1XZfAHQ3PIUWDItrk5Nz75Kc/1fg09Vbj5DLULSL86qNbrk6HjQjZNgQGM+rKOhy5g6Dt8lscQAFLSp0TfLron1ssNu1phJyutTA9dRaV3Qu0CC8acpU99ERaTB2kA8Jw85C85RDvLrAM91R1mQhExL9QQKNmwnFDCKSop6RulwNKqS1HOkUv6vpw3f41BIXnO0icXYr5b6WZ7Md0JCsmhalZFddTstCxITcQyxVEtZ5aviQxTJYFzIGb2G9nAmiuVqXvWna99AxCfBZB3e9K9C3rfNnVfPOtVarUdph1CcMAwy68R891Z1//mRiOWuMbp7aYSS2IxFekMW8AwN0MqU4sGCsJg8B/GJaDIYZ4s+1aBArXIcMz962NNqfFPWPVjzvSgoHMOcno6oGl6C165Yvq9LDkAOhBsy66pRMZi1WzWkl/fYyYaL3V7uxwCh4b1ScjFPdYtDsFRxRbf1/XwmqY+qnROzoU90Bg38yxYrUJzln6uuEydZjmso8Q5RoHcIVwUq25r8Fp/8OLYfLTuOauu4STomFnp+2AfzH0QHcx4A4H88eYrpl2Ma75+hvVUE4oHYeaSJx5G+XMBHtQkcEWg21ZTbP9ntDHB8/LwGdns7FEzzsxJ0w6s1IoW+z9SyZkCUAMx/Y5XPiKF8bwZTUz0spC3CpI+i+QC4rugENtJdW6VvjN388KZ29W82AYlu0KPlgav9bLVdv7oY54CeGcCvAF1VtKVIfLSQuO6jlkXt53u/e9G4w0LxrScfi8WqEkwunKaqFqM42BwDlQUOH3FKydLU7Zj8k54uQzlrSKRoV/jcsgT8bJptMz7yqsLWx7k3XkP+XAj9rfU9nuq6EQP2Kzk+iZX5p6DdtHiplMjDp5agDxPWnWjjHz3gSde3bzxArEu2fupn3ftBwU2wy5F+1dtAJKVCZ6wjD/BQiH9fA7WjeFFBiAOH6phGbFRAlSz+tWF075OfDQwRVgNSmoBeVryyclSui+YkfiHsdqOPHiwmNDPoZbxbO/3t9xw/lI2pm31zrHRcfVb0fyxUMVqBtBVI2AYdxixeunl8zkFHi4WwsA0zvEPLi0YzjHZm6OaFkxb+eqmE1duPYbuRIKIdU5RdaGMMKHBm558agakk83SihG8QLsYmLnqc+Ucz8lownYdZ7+byf49wSOHsEirOZYHaipTcdcqrY7P6sPAitLq9nZzYYnwR91gXCrNB4MMBiLLgc8VYsdMQ3rbpq18+UKCqObDsMG6YX3g/arN950NwrAbvWwmj7JsVY+ur4bYg5jAP6OuIeL2ptrhlZuyZem5z3BQ17ymuqWbU+i86koRGOWesyCVF403fOnvFpaFVcIDRVb8F3EzKUcaMirrGtectPLVlaqVmA8VNeKECwX9tdO+t+5CyMTryf6YwCGq+AAPvyNygGUN05CRmAlH+rItN5xz9rblF+xj3WpQr+sDUNdHStDpamI+z2Ahvtmsa1zld+8FZ6pJtSQLqtwlf6Tlu5it0ynPTDQtBIinerncBRsWzNmp58Wp1z76dWHH7qJciWmXHu5+AnzJYsu/mDOiWNgyvd2uk75ox9JzH4egb4gtU+WGe+ZziugXgm4Hl4rT/TKVecLnFVgn3vpKEvPZdZjXKK7w8WpXpxxW1QhWVbixxEXbrmp57MTv/GyxWVe/xM2kMTyYfqQBzQPVDvD/lNnmMBubTSFP+Ga80US7fy9d+fmtyz69Kxw0alN9+HBehqj1yYf2N3qG9SYE6TEjtYhIpUrBUHDibVu+aUTid3rQQVGzCzUgUKM0Perm6POwK4WI94N7WAFtsCf619PxrOx67yw4YcC9FvoA5LC9QmUkgArIoQoslFwqAS85JAE7JrxMz8ptS8+7kpk0xQ96YACAWKHH+A6luJBQ2IRS/Su+VpQm97LpFKRpOPDbkr61beG0VXAPfkHA4QLqMJGJKpVidT6g0sXnvFZ89N3DCojFznV92TjhLLdpMgRtgOVkoNhg3nG5zQI7BQBwIUbphfLDvgxznpOROsvzvEw+k/q8Bg/CqKnmOzw/XCi0GZkKdbAf+pxpfRRfK0ojqfIwJqv67UnpcPR2XDn9f+DY/wd0zBPYwIQOByAyUwUHy6Uw42RTroiOMv3xU6QfbRB+DtRNJze9ZDBVKRAxjJhDkeakXtT4wWnO0Y4Ra4g42fRGDNGJry/9p4e5UOApKUJ3J+oeNuh+MJNO1xL3459pyS3Y4TQtd9zKl+dIz2w37Gi9lx9WMxm2seomUcG0p9i2a7cQnbtgKsAaotYRVE+W1qwslbg2qEyOBajYktE64aZ773pj2bnfYKYhWXZgCUUs7AjrTbLwSGgigSBdVBnBI4hvfHvmSzLnzcKquZNCKbLkqh4lgKMojSzbOFH44z6Cc1zDiqyoTu2cIjuDAhV1kp35F1AI68YKDm7wHC/d80UNnsCugHJYtqh7/ZJqBQrr0HVVE5M0+gWCqNj56hlvmVFzBgwLW2Wsno4cqlxV0j1oiK3jvp9YgxDjpwiwNqDpVftW1C4qgKfMTypWELKPjqyrj7i5zGuu9Ka+vuy8/1YsyxEIt/CySZWEUiDp53lvuKDvF5fRj4WLH9bscdwdr0f9XOYZI954mtfPH1ucu4J0gaXxDNlZsTS8lNj4A34O2F0aQFpaBkxo8AU/8Nay8y5hDbpNTFcUilg4F7Iw5noPnR9EQJWUO6wyTfag2emNK47Pvrmo5XS3t3OdkWiKAP188QhUnC6wNKis6Wiw9HEBKyuW5oLCPRgWWVY4qa6vafDYllpYVgOjFypyhE7XEg87Amone6jXvrWo5TNuz4EHjMRo6q9KJ6++Ys6L6ICDlbiuSfjjT4BilxB+Nu1Ct7ZhLntLul7L2zd/5ocEDpml3lWvgaglrnjQUdnAZ1g/rx1cpaKdj34LsUS8tWjGJcfcuvUdIxJLerk056ghpwBWcNDAp0FwwgILH3WcJ1MfmM6+v97/zqqL/4XPcr4DcHmR5NnIBNVoDh57X0tA21nGsBTYV/6SvuSbvxN+x05IXpizCiSI22xQcaP0ub6mz3VJ+pwiTLj6iuYPCW/yHDYNB0Jrq849IvEBlEIFiUE3Kzir7Fc1PSwgaOhwz0PC10Lq5Csfut+qq7/Y7XzfEw0TJDoMXkSLCCSBqDFgVoTboNl0Uwfexgaoz7773ZNfEWTh69oqdhv0a0q4iLRCF4640IUta8z/+yKiGsDGhxL+5EW/WGvEmy6Gsynv2zHD79wt/b1vYySBIVQ1JdPhITU6VcYYBRPzbB6q2rGGEdn8oeUbvyb4RhF9LmzLCIWQeGpqq+7nkCys5C00/rhvPR6d/J11v5XxhvO9TApWa9Om1cuP1Akfr1f4H7wJ8LB6ahBRcoGzq0pLG34ZqJDYOTmq+d4PL3/5AeAGo8fZSt2sFUPV8araVbpfJfmu9TK88XPPyfmjr354jOHaz8tY4iSf4Pke3IEhy6r93GhJLgOhOCEENAxliKAgPALsjEI8EJ5r1DXabk/na9DP5753zawdAm0Tq1sre7etiIVtB6ocWJjmLAzGkARUzkCVlANpfid4f7do7bHStTaLSOwkRXnKzYn6CmYoCr7AHyYlbBjG/oXttLigSVxc2LaiYR6Y1syjSXXgfXXdg7vBJ3jwcdRNRVdfm7h84xcF2qZYeoDboJwOMw8pUFenm1FpzObp0G8EtO9i0r+tm4M9rC8LMzoJ9kH6Lvr8JRSEC0dgMvTtKGQ6vBi0aztkOdhSAaLSbYO2BixdnNbYFl8bMu1H3GwPjQkmjKcPTly+6S5kFaLIbaDOy/1h3chby8Gq9NgXWFiz7aRFj30S3PMEpjoDG7Np2S0xeaN60i/ZmCWRrfHWlJLp2DRoFyLeCKd2HheHMLGwFRUF5dz3sJBZXm/HRt9x5+763py/CHoCF4ClA2db6RKLWNgkC4cWaWTuR0ClHx76ap8PBCsc2XbSokcvEqbxJEbb8AAeWIg2QWA08ABuigpJgaBImKtUzN3vXGDe3+753ftpMDApmhBqPWLVxz49iJbXg7cvI/HZ0J23T1z60ucFPYEED9aZobvadwftCf/QqBr++DQDLNIQWrHCTVj06DfxUu1PARzkWpiTPYLHng9zFINHtiV4hpUXdtzA6iy9rj3PCjtB6zarY6SqrSUGSQcsbZhRmWj82fjlm1aontA6Q2o8SOjrD+ALG1VLTJO+B/CSMjrqThfqGQojP5Y1mkFbwQXaYGoYyqkNH20KQJ6/+7rT2jAnXidjDSARhSDLri2wIFhqPGxfdTPdrhFv/vb4G1/+/dgbX5yoqFGBGGoyQ9Q0cACHyDbosqoaV4ufNyZc+ci/yjg8cplUHnc4J9Jp3i/Twc8l/JqmI2KNES+X/QN2RZ7w/n9+6TGKHLuvmXU9VtLLpR1H2dLACHHTZPWjz7YFDTIw1KZi6VjiFEPa28fdsPFcBSLvU4MqEXiLQcc6HRQ5fL91Xh3zGQMk8e9euputAnBws6N1FR4Qeg241uMWPWTv337hqXtXfWEn3qG3lcgBEPd8b9bdbq57HudKrClgafhaKq9ncLvQAZQDnzAGXxr1sOT8ctzSjTcqMYcaFGXGAUEDxcs6XW3MMrgKTYBeyEHFhF9ZoaDXnICHDAJ2Fqx64Z6Vn6N7UarRv2dB4NSm3AY3wQfXzPkZ9Nuz1euoVsQCk9VmV+zfVhvlYhdgr2skmq8BiOvrl/1xjBpAsvQSxVl4goCP7EFhdYOMJDhHBX6PcioIhBhHROu51W0TPWR7Vsz9uaI6jutADxncBARx79Wz26GgtWJrR6fAu/bIGYBYTp0Hz8NV2nC5Ssfq26JedMeYGzZ8QrH01BBAmmNGOBiw9H0LrIfZz4pg5aXcN/QQ8RY9ZFB8AboF1r9778rPze64be47il0U1an1QhXT7ycEcc+1LZtd054Be+L/ogwaZwNfS7/MVZ4Eczj36+DlYHu0tGNPj178h+9T6GaJ3SIDllazlKLEAg/zJjqmDqYZ9DljBn2u0+ElJUiPveoXrZCJnxVWNOE7GSghctDcET6Xg6szAo8ady58Ze9tF/wXryuWHUh16kaJHyX4npxvSm5swpbl5+A0avHwcQg0BFbVEQzYQ4fdqVLGRhnY9/Obfe+/Olfcs6B35k8692NrR/PImbMw2e+9de4GvAI703eyuyCkkrUGujGpd+TpnfOc7Gv4sMNUBZ4yMWE2Kxc84kPBFzshOpKzO/b9Nd8KRxVAbKSqCGMFBnqkDqzQaJn00p15GW/8x+YxU3ZMWPLb8/A6f5qWIwZUVdPBMhQFBux3cr7+qnVjLcd5DjLhSX42xa1UJnJgoZYR+IdhNEj9aP9tn7uEbKCfYSFVBYJPWx/C6Os3PiwSTXP93g6spiO4ybzgKsVLIjB7mJihJh7fkgMFYsDI1UH32YZqAgc7GAqulKDE7lvP33ugs2OOl+1+DqMW5QorsVBglfXcdNel+2+be7ECj53nM7UEghfKavsXz74A4N0r65qwmuLlGhLiSFAi2kcqQ7DBOdCuIIVC7FH2S5BnLXWwYJbdfwiKqKJ54S8uB9+eBZvcbtd37uq+ff72wCr87Mi/aJNkW6TfeP3GG7HD9BrMiUpjQeOCAVYYVPFDCiSlcUOTkxUWOjNhSgvsOtTZgxWnilILwHEA+gPI0rg5sdT3o4rArabSYZ+htQSvenEubbp+40IYaFfSLIZAPiupUQxbnr6JDUzBbgcIDjC3WejthCkz1Cv/ivwG914/WVZcGsDgURgY1gcN37lDikmX/U1eNoT70oRu7jQsgeHUij4oPMwSsGxgnKsDUVMgd4KFAE48fgZKo5BBBqwtDAdgbSXX8nQo5jQs2fQpsNmvlZvAzdHeV8IueZCK1CIC/BWAioXFRFBg2Z89OUjxBLC2OeYgFVR1W4k5WyJd1816AibHj4FyegU+tQYwQ62lAl2dM11IaEFUO9UN7NOhByBbGGotXYtn/xkWxpn4/t/7sDFyV39lWovCKwQRaZ6GlwJg9YVqYraTtmTGh2QgiGDnrmTrG0KkZ2B36w4BQR59HSjkF4AZjAPAQ+cKBxKkyGKqLNwrzldOOignFMkPSQTRKLIzTFKp5Ol7ejozs/xM1x9pcwQAZWotWtYLgNTdrBq0PmBhtuCeJ3/foUuBurfKHAbBfeVp6d5k6yl+uvNxEcc2O79CcxgeIOWpg0DodHWxA5UXhcg/1SgJ6V7+DWL6gUOrSmzxhh/LePOXob1QFaSIU7ofoRCNj11hIc4KG+Qyccosbj8k9VTVaFSExUzafNnSy3SeeehToO4mwQtVv8z1rf/spTtWiLpGrs7UWpTmApJAsugIQdJQBXf65kVd9MFian344xsLPra42HilDG+qdl6+45LRzx8+ALKXtPooTck3skvmXOX1HrgaCwtdp7Bu0JXfD74QyhAw9p4H84QZwyjMV+pZZpXKVwQPoIW3CyQ+eLYWbwrMef2ro++mK7U06bOxh3QATeADjLTm2Itf+ipenb1PbSuBzQP+kD6tRalyFKSpCweq3KQTZpYjSBNbCu+2kWgQXk8XQPZ/ijfVbn79kubgA4xQbdtR/2EKYDi6dBphkYks/vNnfWnjE6Dojod9w2o3BTDop4loAGcNB2AAHD4BasbrBbyJsAz5P4Kb/Ad/uXTsVtbaRuCmtvl6Pj68AWSPQtXPuvbFM0B9T2O7cARf6FD2v0CXxjcz1CKC100MqPWlKZBzKN4iNQEc3sRPdWZg8vqh6xm3/uXSvo/QtuMjtBo4Vs1w+APIXsBhRe0l8v0/TXN9uAki8dF4ByWH91Lwfguw4ZfWyMKYsQggzVmc3UijAMDF3GYb+KCil+qgf/fubM67/d3L+z6D3N6GRepI/Qwy8VMhBFFcu+loQ7gvwE99jEjjO4Me9zRiHQCIFpbMo08AC+OdbwDlglohjuD1sVTHPmxdWpXxzFU7FwQf4lbvpJTxyasjgwI1iCE7i+QfGoy80S4iidl+z4EcWNjwentkw9hx/thjT6IWYcsoXpVNdewCHd5u9fp3vXFF8Cn4VvznBBvwKXhuedHFDhcfWQCyp3BY0aaI2d4yT/n0WrgmzuFbovFYVIyZPAX/GYFNinsH8KzIp1L3vXtl8J8RBMAtoZhUFnAa1CMPQPasSGsZe8sbF9nR2LxovH4ipvw9wsk/+s7u0T9RICOrYtXLKtwyrNFD/H+o/WwQUOnqIgAAAABJRU5ErkJggg==
  name: Code Server
  template:
    spec:
      podTemplate:
        spec:
          containers:
          - name: code-server
            image: codercom/code-server:3.9.1
            command:
            - bash
            - -c
            args:
            - |
              /usr/bin/entrypoint.sh \
                --disable-telemetry \
                --disable-update-check \
                --bind-addr=0.0.0.0:8080 \
                --auth=none
            env:
            - name: PROJECT_ROOT
              value: "/project"
            ports:
            - containerPort: 8080
              name: http
              protocol: TCP
      svcTemplate:
        spec:
          ports:
            - name: http
              port: 8080
              protocol: TCP
              targetPort: 8080
      httpPort: 8080
      rewrite: true
  version: v3.9.1
